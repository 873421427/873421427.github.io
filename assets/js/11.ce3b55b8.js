(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{195:function(a,e,t){"use strict";t.r(e);var r=t(0),s=Object(r.a)({},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"golang-gorm使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#golang-gorm使用","aria-hidden":"true"}},[a._v("#")]),a._v(" Golang GORM使用")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://link.jianshu.com?t=https%3A%2F%2Fgithub.com%2Fjinzhu%2Fgorm",target:"_blank",rel:"noopener noreferrer"}},[a._v("gorm"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("code",[a._v("gorm")]),a._v("是go语言中实现数据库访问的"),t("code",[a._v("ORM（对象关系映射）库")]),a._v("。使用这个库，我们可以利用面向对象的方法，更加方便的对数据库中的数据进行"),t("code",[a._v("CRUD(增删改查)")]),a._v("。")]),a._v(" "),t("h4",{attrs:{id:"基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 基本使用")]),a._v(" "),t("p",[a._v("下载依赖")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("go get github.com/jinzhu/gorm\ngo get github.com/go-sql-driver/mysql\n")])])]),t("p",[a._v("第一个是核心库。\n第二个是mysql驱动包。")]),a._v(" "),t("h4",{attrs:{id:"连接数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 连接数据库")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('packae main\nimport (\n  "github.com/jinzhu/gorm"\n _ "github.com/jinzhu/gorm/dialects/mysql"\n  "fmt"\n)\nfunc main() {\n  db, err := gorm.Open("mysql",\n "root:root@/test?charset=utf8&parseTime=True&loc=Local")\n\n  if err != nil {\n      fmt.Println(err)\n      return\n  }else {\n      fmt.Println("connection succedssed")\n  }\n  defer db.Close()\n')])])]),t("h4",{attrs:{id:"新增数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新增数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 新增数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('type User struct {\n  ID     int            `gorm:"primary_key"`\n  Name   string         `gorm:"not_null"`\n}\n\nfunc add() {\n  user := &User{Name:"zhangsan"}\n  db.Create(user)\n}\n')])])]),t("h4",{attrs:{id:"删除数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 删除数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("user := &User{ID:1}\ndb.delete(user)\n")])])]),t("h4",{attrs:{id:"更新数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 更新数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('user := &User{ID:1}\ndb.Model(user).update("Name","lisi")\n')])])]),t("h4",{attrs:{id:"查询数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 查询数据")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// query all\nvar users []User\ndb.Find(&users)\nfmt.Println(users)\n// query one\nuser := new (User)\ndb.First(user,1)\nfmt.Println(user)\n")])])]),t("h4",{attrs:{id:"其它"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它","aria-hidden":"true"}},[a._v("#")]),a._v(" 其它")]),a._v(" "),t("h5",{attrs:{id:"判断数据库中是否有结构体对应的表："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断数据库中是否有结构体对应的表：","aria-hidden":"true"}},[a._v("#")]),a._v(" 判断数据库中是否有结构体对应的表：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("db.HasTable(User{})\n")])])]),t("h5",{attrs:{id:"创建表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建表","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建表")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("db.CreateTable(User{})\n")])])]),t("p",[a._v("以上就是gorm基本的用法。")])])},[],!1,null,null,null);e.default=s.exports}}]);